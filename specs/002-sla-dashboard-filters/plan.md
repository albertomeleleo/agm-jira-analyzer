# Implementation Plan: SLA Dashboard Advanced Filters + Issue List Page

**Branch**: `002-sla-dashboard-filters` | **Date**: 2026-02-07 | **Spec**: `specs/002-sla-dashboard-filters/spec.md`
**Input**: Feature specification from `/specs/002-sla-dashboard-filters/spec.md`

## Summary

Extend the SLA Dashboard with usable, categorized filters (US1), persistent filter state across navigation and restarts (US2), named filter presets (US3/US4), and a dedicated Issue List page (US5). The Issue List page is a new sidebar entry showing only the SLA issue table with filters — no charts or stat cards. Both pages share presets but maintain independent active filter states persisted to separate localStorage keys.

**Important context**: US1-US4 are already implemented from the previous planning session. This updated plan focuses on the **incremental changes** needed for US5 (Issue List page) and the FilterContext refactoring required to support independent per-page filter states.

## Technical Context

**Language/Version**: TypeScript 5.3 (strict, no `any`)
**Primary Dependencies**: React 18, Electron 28, TailwindCSS 3.4, Lucide React, date-fns 4
**Storage**: localStorage (active filter state per page), JSON files via ProjectService (presets)
**Testing**: Vitest 4
**Target Platform**: Desktop (Electron — Windows + macOS)
**Project Type**: Electron three-process (Main + Preload + Renderer)
**Performance Goals**: Filter application <500ms, single-click preset recall
**Constraints**: No new IPC channels needed. Presets already persisted via ProjectService. No new npm dependencies.
**Scale/Scope**: Single user, local data, up to 20 presets per project

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

Constitution is a blank template — no project-specific principles defined. Gate passes trivially.

## Project Structure

### Documentation (this feature)

```text
specs/002-sla-dashboard-filters/
├── plan.md              # This file
├── research.md          # Phase 0 output
├── data-model.md        # Phase 1 output
├── quickstart.md        # Phase 1 output
├── contracts/           # Phase 1 output
│   └── ipc-channels.md  # No new IPC channels needed for US5
└── tasks.md             # Phase 2 output (generated by /speckit.tasks)
```

### Source Code (repository root)

```text
src/
├── main/
│   ├── index.ts                    # IPC handlers (no changes for US5)
│   └── services/
│       └── ProjectService.ts       # Preset CRUD (no changes for US5)
├── preload/
│   ├── index.ts                    # contextBridge (no changes for US5)
│   └── index.d.ts                  # Type declarations (no changes for US5)
├── shared/
│   └── filter-types.ts             # Shared types (no changes for US5)
└── renderer/src/
    ├── contexts/
    │   └── FilterContext.tsx        # MODIFY: support page-scoped filter state
    ├── components/
    │   ├── MainLayout.tsx           # MODIFY: add 'issues' route
    │   ├── SLADashboard.tsx         # MODIFY: pass page identifier to context
    │   └── IssueListPage.tsx        # NEW: Issue List page component
    └── design-system/
        ├── index.ts                 # MODIFY: export new page type
        └── organisms/
            └── Sidebar.tsx          # MODIFY: add 'issues' nav entry
```

**Structure Decision**: Electron three-process model. All changes for US5 are renderer-side only (no backend/IPC changes needed). The new Issue List page reuses existing `SLATable`, `SLAFilters`, and `FilterPresetBar` components.

## Key Architecture Decision: Page-Scoped Filter State

The current `FilterContext` manages a single `filters` state. To support independent filter states per page (FR-017), the context must be refactored to:

1. **Option chosen**: `usePageFilter(pageId)` hook pattern — FilterContext internally manages a `Record<string, SLAFilterState>` keyed by page identifier (e.g., `'dashboard'`, `'issues'`). Each page calls `usePageFilter('dashboard')` or `usePageFilter('issues')` to get its own independent filter state. Presets remain shared.

2. **localStorage keys**: `sla_filters_dashboard_${projectName}` and `sla_filters_issues_${projectName}` — each page persists independently.

3. **Migration**: The existing `sla_filters_${projectName}` key maps to `sla_filters_dashboard_${projectName}`. A one-time migration reads the old key and writes to the new key.

## Complexity Tracking

No constitution violations to justify.
